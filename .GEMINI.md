## 토큰 절약 핵심 5원칙 (PyTorch + Jupyter)

1. 긴 출력 자동 압축
   - Jupyter에서 학습 로그, DataFrame, 디버그 출력이 너무 길게 나오지 않도록 한다.
   - 필요하면 "마지막 20줄만", "요약만"을 복사해서 붙여넣는다.
   - 가능하다면 출력 자동 축약 코드(Extension)를 사용한다.

2. 문제 함수만 제공
   - model.py 전체, notebook 전체를 붙이지 않는다.
   - `forward()`, `__getitem__`, `train_step()`처럼 문제가 의심되는 함수만 잘라서 보낸다.
   - “이 함수만 기준으로 분석해줘”라고 명시한다.

3. 에러 요약만 제공
   - 전체 스택 트레이스를 복사하지 않는다.
   - 예시:
     - `에러 요약: RuntimeError: size mismatch in matmul`
     - `전체 스택이 필요하면 말해줘` 정도만 추가한다.

4. Diff 기반 수정
   - 전체 코드를 다시 보내지 말고 변경된 부분만 diff 형식으로 보낸다.
   - 예:
     ```diff
     - x = self.conv1(x)
     + x = self.conv1(x.float())
     ```
   - 프롬프트에 “아래 diff만 반영한 수정 코드만 보여줘”라고 적는다.

5. Notebook 맥락 초기화
   - Jupyter는 이전 셀/대화 맥락이 길어지기 쉬우므로,
   - 중요한 요청 앞에는 아래 문장을 붙인다:
   - `이전 대화/코드는 무시하고, 아래 코드만 기준으로 답변해줘.`
   - 이렇게 하면 불필요한 과거 맥락으로 인한 토큰 사용을 줄일 수 있다.
